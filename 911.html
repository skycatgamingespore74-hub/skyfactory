<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>SIGNAL VHS</title>

<style>
html, body {
    margin: 0;
    width: 100%;
    height: 100%;
    background: black;
    color: white;
    font-family: monospace;
    overflow: hidden;
}

/* VHS LINES */
body::before {
    content: "";
    position: fixed;
    inset: 0;
    background: repeating-linear-gradient(
        to bottom,
        rgba(255,255,255,0.04),
        rgba(255,255,255,0.04) 1px,
        transparent 2px,
        transparent 4px
    );
    pointer-events: none;
}

/* FLASH */
.flash {
    animation: flash 0.1s infinite;
}
@keyframes flash {
    0% { background: black; }
    50% { background: darkred; }
    100% { background: black; }
}

/* SHAKE */
.shake {
    animation: shake 0.08s infinite;
}
@keyframes shake {
    0% { transform: translate(0); }
    25% { transform: translate(-10px, 6px); }
    50% { transform: translate(10px, -6px); }
    75% { transform: translate(-6px, -10px); }
    100% { transform: translate(0); }
}

.center {
    position: absolute;
    inset: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
}

#countdown {
    font-size: 36px;
}

#signal {
    display: none;
    font-size: 60px;
    letter-spacing: 4px;
}

#monster {
    display: none;
    position: fixed;
    inset: 0;
    background: url("data:image/svg+xml;utf8,
    <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 600'>
        <rect width='800' height='600' fill='black'/>
        <circle cx='300' cy='250' r='60' fill='red'/>
        <circle cx='500' cy='250' r='60' fill='red'/>
        <rect x='250' y='350' width='300' height='80' fill='red'/>
    </svg>") center/cover no-repeat;
}

button {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    padding: 12px 20px;
    font-size: 16px;
    font-weight: bold;
}
</style>
</head>

<body>

<div class="center shake" id="screen">
    <div id="countdown"></div>
    <div id="signal">üì° SIGNAL PERDU</div>
</div>

<div id="monster"></div>

<button onclick="enableSound()">üîä ACTIVER LE SON</button>

<script>
const targetDate = new Date("2026-02-09T00:00:00").getTime();

const countdown = document.getElementById("countdown");
const signal = document.getElementById("signal");
const monster = document.getElementById("monster");
const screen = document.getElementById("screen");

let audioCtx;
let soundOn = false;

function enableSound() {
    audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    soundOn = true;
}

function noise(volume, duration) {
    if (!soundOn) return;
    const osc = audioCtx.createOscillator();
    const gain = audioCtx.createGain();
    osc.type = "sawtooth";
    osc.frequency.value = 100 + Math.random() * 2000;
    gain.gain.value = volume;
    osc.connect(gain);
    gain.connect(audioCtx.destination);
    osc.start();
    osc.stop(audioCtx.currentTime + duration);
}

setInterval(() => {
    const now = Date.now();
    const diff = targetDate - now;

    if (diff <= 0) {
        countdown.style.display = "none";
        signal.style.display = "block";
        document.body.classList.add("flash");
        noise(0.6, 2);

        setTimeout(() => {
            monster.style.display = "block";
            screen.style.display = "none";
            noise(1, 4); // jumpscare sonore
        }, 2000);

        return;
    }

    const h = Math.floor((diff / (1000 * 60 * 60)) % 24);
    const m = Math.floor((diff / (1000 * 60)) % 60);
    const s = Math.floor((diff / 1000) % 60);

    countdown.innerHTML = `‚è≥ ${h}h ${m}m ${s}s`;
    noise(0.15, 0.05);
}, 1000);
</script>

</body>
</html>
